{"ast":null,"code":"import { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-pagination\";\nfunction HomeComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 11)(1, \"div\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 13)(4, \"span\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"URL: \", item_r2.url, \"\");\n  }\n}\nconst _c0 = function (a1) {\n  return {\n    itemsPerPage: 10,\n    currentPage: a1\n  };\n};\nexport class HomeComponent {\n  constructor(http, baseUrl) {\n    this.http = http;\n    this.hackerNewsData = [];\n    this.pagedItems = [];\n    this.itemsPerPage = 10;\n    this.p = 1;\n    this.searchText = '';\n    this.loading = true;\n    this.apiUrl = '';\n    this.apiUrl = `${environment.apiBaseUrl}api/hackernews/new-stories`;\n    console.log(this.apiUrl);\n  }\n  ngOnInit() {\n    this.http.get(this.apiUrl).subscribe(data => {\n      this.hackerNewsData = data;\n      this.totalNews = data.length;\n      this.pagedItems = data;\n      this.loading = false;\n    });\n  }\n  filterByTitle() {\n    this.pagedItems = this.hackerNewsData.filter(item => item.title.toLowerCase().includes(this.searchText.toLowerCase()));\n  }\n  setPage(page) {\n    if (page < 1 || page > this.totalPages) {\n      return;\n    }\n    const startIndex = (page - 1) * this.itemsPerPage;\n    const endIndex = Math.min(startIndex + this.itemsPerPage, this.hackerNewsData.length);\n    this.pagedItems = this.hackerNewsData.slice(startIndex, endIndex);\n    this.p = page;\n  }\n  get totalPages() {\n    return Math.ceil(this.hackerNewsData.length / this.itemsPerPage);\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 11,\n  vars: 8,\n  consts: [[\"class\", \"loading-overlay\", 4, \"ngIf\"], [1, \"container\"], [1, \"page-title\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Search by title\", \"aria-label\", \"Search by title\", \"aria-describedby\", \"basic-addon2\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"news-list\"], [\"class\", \"news-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-8\", \"py-5\", \"flex\", \"justify-center\", \"items-center\"], [3, \"pageChange\"], [1, \"loading-overlay\"], [1, \"spinner\"], [1, \"news-item\"], [1, \"news-title\"], [1, \"news-details\"], [1, \"news-author\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, HomeComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Latests news from HackerNews Community\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.searchText = $event;\n      })(\"input\", function HomeComponent_Template_input_input_5_listener() {\n        return ctx.filterByTitle();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"ul\", 5);\n      i0.ɵɵtemplate(7, HomeComponent_li_7_Template, 6, 2, \"li\", 6);\n      i0.ɵɵpipe(8, \"paginate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"pagination-controls\", 8);\n      i0.ɵɵlistener(\"pageChange\", function HomeComponent_Template_pagination_controls_pageChange_10_listener($event) {\n        return ctx.p = $event;\n      });\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(8, 3, ctx.pagedItems, i0.ɵɵpureFunction1(6, _c0, ctx.p)));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.PaginationControlsComponent, i4.PaginatePipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAIA,SAASA,WAAW,QAAQ,gCAAgC;;;;;;;;ICJ5DC,8BAA6C;IAC3CA,0BAA2B;IAC7BA,iBAAM;;;;;IAOFA,8BAAuG;IAC7EA,YAAgB;IAAAA,iBAAM;IAC9CA,+BAA0B;IACEA,YAAmB;IAAAA,iBAAO;;;;IAF9BA,eAAgB;IAAhBA,mCAAgB;IAEZA,eAAmB;IAAnBA,+CAAmB;;;;;;;;;ADFrD,OAAM,MAAOC,aAAa;EAWxBC,YAAoBC,IAAgB,EAAsBC,OAAe;IAArD,SAAI,GAAJD,IAAI;IATxB,mBAAc,GAAU,EAAE;IAC1B,eAAU,GAAU,EAAE;IACtB,iBAAY,GAAW,EAAE;IACzB,MAAC,GAAW,CAAC;IAEb,eAAU,GAAG,EAAE;IACf,YAAO,GAAY,IAAI;IACvB,WAAM,GAAW,EAAE;IAGjB,IAAI,CAACE,MAAM,GAAG,GAAGN,WAAW,CAACO,UAAU,4BAA4B;IACnEC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,MAAM,CAAC;EAC1B;EAEAI,QAAQ;IACN,IAAI,CAACN,IAAI,CAACO,GAAG,CAAQ,IAAI,CAACL,MAAM,CAAC,CAC9BM,SAAS,CAACC,IAAI,IAAG;MAChB,IAAI,CAACC,cAAc,GAAGD,IAAI;MAC1B,IAAI,CAACE,SAAS,GAAGF,IAAI,CAACG,MAAM;MAC5B,IAAI,CAACC,UAAU,GAAGJ,IAAI;MACtB,IAAI,CAACK,OAAO,GAAG,KAAK;IACtB,CAAC,CAAC;EACN;EAEAC,aAAa;IACX,IAAI,CAACF,UAAU,GAAG,IAAI,CAACH,cAAc,CAACM,MAAM,CAAEC,IAAI,IAChDA,IAAI,CAACC,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACC,UAAU,CAACF,WAAW,EAAE,CAAC,CACjE;EACH;EAEAG,OAAO,CAACC,IAAY;IAClB,IAAIA,IAAI,GAAG,CAAC,IAAIA,IAAI,GAAG,IAAI,CAACC,UAAU,EAAE;MACtC;;IAEF,MAAMC,UAAU,GAAG,CAACF,IAAI,GAAG,CAAC,IAAI,IAAI,CAACG,YAAY;IACjD,MAAMC,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACJ,UAAU,GAAG,IAAI,CAACC,YAAY,EAAE,IAAI,CAAChB,cAAc,CAACE,MAAM,CAAC;IACrF,IAAI,CAACC,UAAU,GAAG,IAAI,CAACH,cAAc,CAACoB,KAAK,CAACL,UAAU,EAAEE,QAAQ,CAAC;IACjE,IAAI,CAACI,CAAC,GAAGR,IAAI;EACf;EAEA,IAAIC,UAAU;IACZ,OAAOI,IAAI,CAACI,IAAI,CAAC,IAAI,CAACtB,cAAc,CAACE,MAAM,GAAG,IAAI,CAACc,YAAY,CAAC;EAClE;;AA5CW5B,aAAa;mBAAbA,aAAa,4DAWsB,UAAU;AAAA;AAX7CA,aAAa;QAAbA,aAAa;EAAAmC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV1BxC,8DAEM;MACNA,8BAAuB;MACEA,sDAAsC;MAAAA,iBAAK;MAClEA,8BAA8B;MACrBA;QAAA;MAAA,EAAwB;QAAA,OAAsIyC,mBAAe;MAAA,EAArJ;MAA/BzC,iBAAwL;MAE1LA,6BAAsB;MACpBA,4DAKK;;MACPA,iBAAK;MACLA,8BAAwD;MACjCA;QAAA;MAAA,EAAyB;MAACA,iBAAsB;;;MAjB3CA,kCAAa;MAMhCA,eAAwB;MAAxBA,wCAAwB;MAGVA,eAA8D;MAA9DA,iGAA8D","names":["environment","i0","HomeComponent","constructor","http","baseUrl","apiUrl","apiBaseUrl","console","log","ngOnInit","get","subscribe","data","hackerNewsData","totalNews","length","pagedItems","loading","filterByTitle","filter","item","title","toLowerCase","includes","searchText","setPage","page","totalPages","startIndex","itemsPerPage","endIndex","Math","min","slice","p","ceil","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\mafernandez\\OneDrive - ENDAVA\\Documents\\ChallengeHackerNews\\ClientApp\\src\\app\\home\\home.component.ts","C:\\Users\\mafernandez\\OneDrive - ENDAVA\\Documents\\ChallengeHackerNews\\ClientApp\\src\\app\\home\\home.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Inject, OnInit } from '@angular/core';\r\nimport { Component } from '@angular/core';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\nimport { environment } from '../../environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  hackerNewsData: any[] = [];\r\n  pagedItems: any[] = [];\r\n  itemsPerPage: number = 10;\r\n  p: number = 1;\r\n  totalNews: any;\r\n  searchText = '';\r\n  loading: boolean = true;\r\n  apiUrl: string = '';\r\n\r\n  constructor(private http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\r\n    this.apiUrl = `${environment.apiBaseUrl}api/hackernews/new-stories`;\r\n    console.log(this.apiUrl);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.http.get<any[]>(this.apiUrl)\r\n      .subscribe(data => {\r\n        this.hackerNewsData = data;\r\n        this.totalNews = data.length;\r\n        this.pagedItems = data;\r\n        this.loading = false;\r\n      });\r\n  }\r\n\r\n  filterByTitle(): void {\r\n    this.pagedItems = this.hackerNewsData.filter((item =>\r\n      item.title.toLowerCase().includes(this.searchText.toLowerCase()))\r\n    );\r\n  }\r\n\r\n  setPage(page: number): void {\r\n    if (page < 1 || page > this.totalPages) {\r\n      return;\r\n    }\r\n    const startIndex = (page - 1) * this.itemsPerPage;\r\n    const endIndex = Math.min(startIndex + this.itemsPerPage, this.hackerNewsData.length);\r\n    this.pagedItems = this.hackerNewsData.slice(startIndex, endIndex);\r\n    this.p = page;\r\n  }\r\n\r\n  get totalPages(): number {\r\n    return Math.ceil(this.hackerNewsData.length / this.itemsPerPage);\r\n  }\r\n}\r\n","<div class=\"loading-overlay\" *ngIf=\"loading\">\r\n  <div class=\"spinner\"></div>\r\n</div>\r\n<div class=\"container\">\r\n  <h1 class=\"page-title\">Latests news from HackerNews Community</h1>\r\n  <div class=\"input-group mb-3\">\r\n    <input [(ngModel)]=\"searchText\" type=\"text\" class=\"form-control\" placeholder=\"Search by title\" aria-label=\"Search by title\" aria-describedby=\"basic-addon2\" (input)=\"filterByTitle()\" />\r\n  </div>\r\n  <ul class=\"news-list\">\r\n    <li *ngFor=\"let item of pagedItems | paginate: { itemsPerPage: 10, currentPage: p }\" class=\"news-item\">\r\n      <div class=\"news-title\">{{ item.title }}</div>\r\n      <div class=\"news-details\">\r\n        <span class=\"news-author\">URL: {{ item.url }}</span>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n  <div class=\"mt-8 py-5 flex justify-center items-center\">\r\n    <pagination-controls (pageChange)=\"p = $event\"></pagination-controls>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}